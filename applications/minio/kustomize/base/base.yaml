apiVersion: v1
kind: ServiceAccount
metadata:
  name: pods
---
## MinIO Tenant Definition
apiVersion: minio.min.io/v2
kind: Tenant
metadata:
  name: minio
  ## Optionally pass labels to be applied to the statefulset pods
  labels:
    app: minio
  ## Annotations for MinIO Tenant Pods
  annotations:
    prometheus.io/path: /minio/v2/metrics/cluster
    prometheus.io/port: "9000"
    prometheus.io/scrape: "true"
    sidecar.istio.io/inject: "false"
    prometheus.io/scheme: ""

# scheduler:
#  name: my-custom-scheduler
spec:
  ## Registry location and Tag to download MinIO Server image
  image: minio/minio:RELEASE.2022-05-26T05-48-41Z
  imagePullPolicy: IfNotPresent
  configuration:
    name:  minio1-env-configuration
  pools:
    - servers: 4
      name: pool-0
      volumesPerServer: 4

      volumeClaimTemplate:
        metadata:
          name: data
        spec:
          storageClassName: standard
          accessModes:
            - ReadWriteOnce
          resources:
            requests:
              storage: 10Gi

   ## Mount path where PV will be mounted inside container(s).
  mountPath: /export
  ## Sub path inside Mount path where MinIO stores data.
  subPath: /data

  ## List of bucket names to create during tenant provisioning
  buckets: ["mlflow"]
  